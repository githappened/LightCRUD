


OVERVIEW
--------



Has TiddlyWiki built this?
http://www.tiddlywiki.com/



LightCRUD has a simple goal:

	Provide an easy way to offer database access.
	Make typical CRUD (Create/Read/Update/Delete) operations available.
	Offer a simple URL interface.
	I wanted to fool around with dynamic SVG, this is temporary plumbing.

LightCRUD is NOT secure.

LightCRUD is NOT production quality.

LightCRUD is only an experiment.

LightCRUD assumes access will be via GET or POST, with /crud/ in the path.

One of the four letters should be capitalized.

To create:
	../Crud/..

To read:
	../cRud/..

To update:
	../crUd/..

To delete:
	../cruD/..



EXAMPLES
--------


Add test classes to a models.py running under an AppEngine instance.
The base class should extend db.Model, or maybe lightcrudmodel.LightCRUDModel.
Assume example.com is the URL for your server instance.


	class Generic( db.Model ):
	
		afield = db.StringProperty( default='decoupled' )


	class Example( lightcrudmodel.LightCRUDModel ):
	
		somefield = db.StringProperty( default='readme' )


Update the bindings variable in that file.
This is how a Model is made public, 'PublicName': 'ClassName'.


	bindings = {
		'Generic': 'Generic',
		'Example': 'Example',


Access the instance with LightCRUD URLs.


	http://example.com/Crud/Generic
	http://example.com/Crud/Example
	http://example.com/cRud/


Notice the class names are part of the URL.
Notice the Create request and Read request returned database rows with default values.
Notice the 'kind' and 'id' variables that are among the values returned.


Use 'kind' and 'id' for accessing specific database rows.
Add a .json 'file extension' to change the data format to JSON.


	http://example.com/Crud/Example/
	http://example.com/Crud/Generic/.json
	http://example.com/cRud/Example/42
	http://example.com/cRud/Example/42/.json
	http://example.com/cRud/Generic/56
	http://example.com/crUd/Example/42?somefield=newvalue
	http://example.com/cRud/Example/42
	http://example.com/crUd/Generic/56?afield=green
	http://example.com/cRud/Generic/56
	http://example.com/cruD/Example/42/.json
	http://example.com/cRud/Example/42


That's all there is to it.  LightCRUD started off as a small piece of an experiment,
a project that needed a simple REST/CRUD interface for the database.  It was useful
enough that forking LightCRUD into a small published project seemed like a good idea.
Now I can get back to that original project...



FUN WITH SVG
------------

That example is stale!  Try this instead!

Start up the AppEngine instance with -c, to clear the database.
Poke the server with the following URLs, to create SVG elements with associated JavaScript.

	/Crud/Rect/?x=10&y=10&width=40&height=30&fill=red&onclick=refreshRender()
	/Crud/Rect/?x=80&y=80&width=40&height=30&fill=green&onclick=saveRender()
	/Crud/Rect/?x=50&y=40&width=20&height=30&fill=blue&onclick=setAttribute('x',200)
	/Crud/Rect/?x=20&y=80&width=40&height=30&fill=yellow&onclick=$.post('/Crud/Line',{},null,'json')

Now browse the home page.  You should see four rectangles.
Click on the blue rectangle, it should move.
Click on the red rectangle, to refresh the SVG from the server.
If the blue rectangle moved back, great, refresh works as expected.
Click on the blue rectangle again, it should move.
Click on the green rectangle (to save state to the server).
Click on the Red rectangle, to refresh.
If the blue rectangle stayed in the new position, great, saving state works as expected.
Cick on the yellow rectangle.
Click on the red rectangle.
If you now see a new line appear, great, creating new items works as expected.

There might be potential in this approach, to build web UI from nothing but
some RESTful CRUD, with SVG models in the database, and a little JavaScript bootstrapping.
Flexible web development without many files on the web server. :)



TODO
----


Look into http://www.tiddlywiki.com/
Refactor.
Use HTTP POST/GET/PUT/DELETE to imply CRUD actions.
Set up tests.
Look into supporting Expando Models.
Look into adding access controls.
Add resource exhaustion handling.
Add more supported formats.
Look into avoiding the publishing of internal details (row IDs, class names).
Port to Django, other languages, etc.



Copyright 2009 Gary Johnson

This file is part of LightCRUD.

LightCRUD is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

LightCRUD is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with LightCRUD.  If not, see <http://www.gnu.org/licenses/>.
